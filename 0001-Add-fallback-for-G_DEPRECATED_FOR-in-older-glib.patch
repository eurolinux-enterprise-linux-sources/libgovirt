From 7206c23f2fd72232e1d2ada726194092874e21a9 Mon Sep 17 00:00:00 2001
From: Christophe Fergeau <cfergeau@redhat.com>
Date: Tue, 20 Jan 2015 10:42:46 +0100
Subject: [PATCH] Add fallback for G_DEPRECATED_FOR in older glib

It was only introduced in glib 2.32
---
 govirt/ovirt-vm.h | 4 ++++
 1 file changed, 4 insertions(+)

diff --git a/govirt/ovirt-vm.h b/govirt/ovirt-vm.h
index 5a3479e..10910e3 100644
--- a/govirt/ovirt-vm.h
+++ b/govirt/ovirt-vm.h
@@ -30,6 +30,10 @@
 
 G_BEGIN_DECLS
 
+#if !GLIB_CHECK_VERSION(2,32,0)
+#define G_DEPRECATED_FOR(name) G_GNUC_DEPRECATED_FOR(name)
+#endif
+
 #define OVIRT_TYPE_VM            (ovirt_vm_get_type ())
 #define OVIRT_VM(obj)            (G_TYPE_CHECK_INSTANCE_CAST ((obj), OVIRT_TYPE_VM, OvirtVm))
 #define OVIRT_VM_CLASS(klass)    (G_TYPE_CHECK_CLASS_CAST ((klass), OVIRT_TYPE_VM, OvirtVmClass))
-- 
2.1.0

